(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{1684:function(t,e,n){"use strict";n.r(e);var o=n("7770"),i=n("68c8");for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);n("1d6b");var s,l=n("f0c5"),r=Object(l["a"])(i["default"],o["b"],o["c"],!1,null,"6132c1cc",null,!1,o["a"],s);e["default"]=r.exports},"1ce9":function(t,e,n){},"1d6b":function(t,e,n){"use strict";var o=n("1ce9"),i=n.n(o);i.a},"68c8":function(t,e,n){"use strict";n.r(e);var o=n("90c0"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=i.a},7770:function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return o})},"90c0":function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("12fe"),a=n("daff"),s=n("2af5"),l=function(){return n.e("components/xfl-select/xfl-select").then(n.bind(null,"be47"))},r={data:function(){return{host:"",host_name:"",platform:"",currentH:0,username:"",password:"",msg:"",list:[],selectIndex:0}},onLoad:function(e){this.host_name=t.getStorageSync("server_name"),this.platform=t.getSystemInfoSync().platform,this.currentH=t.getSystemInfoSync().windowHeight;var n=this.$mp.page.$getAppWebview();n.setTitleNViewButtonStyle(0,{text:"版本号:"+plus.runtime.version,width:"100px",color:"#ccc"})},components:{xflSelect:l},autoBackButton:function(t){o("log",t," at pages\\login\\login.vue:73")},methods:{againChoose:function(){t.navigateTo({url:"/pages/index/choose_server"})},getList:function(){var t=this;(0,i.getList)().then(function(e){for(var n in e)t.list.push(e[n])})},selectChange:function(t){o("log",t," at pages\\login\\login.vue:89"),this.selectIndex=t.index},getLogin:function(e,n){return t.setStorageSync("username",e),o("log","https://oa.fpc98.com/SerFile/Service.asmx/h_in"," at pages\\login\\login.vue:94"),new Promise(function(i,a){t.request({url:"https://oa.fpc98.com/SerFile/Service.asmx/h_in",data:{emplid:e,addrter:n},success:function(t){o("log",t.data," at pages\\login\\login.vue:104");var e=t.data.split('<?xml version="1.0" encoding="utf-8"?>');e=e[1].split('<boolean xmlns="http://oa.fpc98.com">'),e=e[1].split("</boolean>"),e=e[0];if("true"==e)i(e);else{var n="帐号或密码不正确";i(n)}},fail:function(t){o("log",t," at pages\\login\\login.vue:130")}})})},login:function(){var e=this;if(o("log",a.database," at pages\\login\\login.vue:137"),(""==this.host||void 0==this.host)&&!t.getStorageSync("host")){var n=a.database.ip;this.host=n.substring(n.indexOf("/")+2,n.lastIndexOf("/")),o("log",this.host," at pages\\login\\login.vue:142")}var l=!0;for(var r in a.database){if(o("log",this.host," at pages\\login\\login.vue:147"),o("log",a.database[r].indexOf(this.host)," at pages\\login\\login.vue:148"),-1!=a.database[r].indexOf(this.host)){o("log","存到本地"," at pages\\login\\login.vue:150"),t.setStorageSync("host",this.host),l=!0;break}o("log","未输入"," at pages\\login\\login.vue:155"),l=!1}l||(o("log",l," at pages\\login\\login.vue:160"),t.showToast({title:"服务器不存在",icon:"none"}));var u={username:this.username,password:this.password},c=(0,s.validLogin)(u);c.flag?(0,i.login)(u,this.host+"/").then(function(n){if(o("log",n," at pages\\login\\login.vue:179"),"request:faill"==n.errMsg)return o("log","服务器不存在"," at pages\\login\\login.vue:181"),void t.showToast({title:"服务器不存在",icon:"none"});n.flag?(t.setStorageSync("emplid",e.username),t.showToast({title:n.errMsg}),t.navigateTo({url:"/pages/index/menu"})):"request:fail abort"==n.errMsg?t.showToast({title:"请求崩溃了~",icon:"none"}):t.showToast({title:n.errMsg,icon:"none"})}):t.showToast({title:c.msg,icon:"none"})}}};e.default=r}).call(this,n("6e42")["default"],n("0de9")["default"])},bbd1:function(t,e,n){"use strict";(function(t){n("393a"),n("921b");o(n("66fd"));var e=o(n("1684"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])}},[["bbd1","common/runtime","common/vendor"]]]);